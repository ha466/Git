<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy 19th Birthday, Mithu!</title>
  <style>
    /* Reset & basics */
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;background: linear-gradient(135deg,#ffedf5 0%, #fff9f0 40%, #f0f7ff 100%);overflow:hidden}/* Layout */
.stage{position:relative;width:100%;height:100vh;display:grid;place-items:center;padding:20px}
.card{width:min(1100px,96%);background:rgba(255,255,255,0.75);backdrop-filter:blur(6px);border-radius:24px;box-shadow:0 12px 40px rgba(24,24,24,0.12);padding:28px;display:grid;grid-template-columns:1fr 420px;gap:20px;align-items:center}

/* Left content */
.left{padding:10px}
h1{font-size:44px;line-height:1;color:#2b2b2b}
h1 .spark{color:#ff4da6}
p.lead{margin-top:12px;font-size:18px;color:#3b3b3b}

/* Cake & candles */
.cake-wrap{display:flex;gap:12px;align-items:center;margin-top:18px}
.cake{width:220px;height:150px;background:linear-gradient(180deg,#ffd6f0,#ff8fc1);border-radius:20px 20px 12px 12px;position:relative;box-shadow:inset 0 -6px 12px rgba(0,0,0,0.06)}
.frosting{position:absolute;left:14px;right:14px;top:-12px;height:40px;background:linear-gradient(180deg,#fff,#ffe6f6);border-radius:18px}
.candles{position:absolute;top:-38px;left:50%;transform:translateX(-50%);display:flex;gap:8px}
.candle{width:10px;height:36px;background:linear-gradient(#fff,#ffd1e6);border-radius:3px;position:relative}
.flame{position:absolute;top:-12px;left:50%;transform:translateX(-50%);width:8px;height:12px;border-radius:50%;background:radial-gradient(circle at 40% 30%, #ffd86b 0%, #ff7a00 60%);filter:drop-shadow(0 2px 3px rgba(255,120,0,0.35))}

/* Right controls */
.right{display:flex;flex-direction:column;gap:12px;padding:12px}
.controls{display:flex;gap:12px}
button.btn{flex:1;padding:12px 16px;border-radius:12px;border:none;font-weight:600;background:#ff4da6;color:white;cursor:pointer;box-shadow:0 6px 18px rgba(255,77,166,0.28)}
button.btn.secondary{background:transparent;color:#ff4da6;border:2px solid rgba(255,77,166,0.14);box-shadow:none}

/* Message box */
.message{margin-top:8px;padding:12px;border-radius:12px;background:linear-gradient(180deg,#fff,#fff1);min-height:140px;display:flex;align-items:center;justify-content:center;text-align:center}
.message textarea{width:100%;height:100%;resize:none;border:none;background:transparent;font-size:18px;padding:8px;outline:none}

/* Floating top-left greeting */
.greeting{position:absolute;left:36px;top:26px;font-weight:700;color:#ff2e7a}

/* Balloon styles */\    
.balloon{position:absolute;width:64px;height:88px;border-radius:60% 60% 55% 55%;display:flex;align-items:flex-end;justify-content:center}
.string{width:2px;height:72px;background:rgba(0,0,0,0.1);position:absolute;bottom:-70px}

/* Footer small */
.footer{position:absolute;right:22px;bottom:18px;font-size:12px;color:#666}

/* Responsive */
@media (max-width:880px){.card{grid-template-columns:1fr;padding:16px}.right{order:2}.left{order:1}.cake{width:180px;height:120px}}

  </style>
</head>
<body>
  <div class="stage">
    <div class="greeting">üéâ Happy 19th, <strong>Mithu</strong>!</div><div class="card" id="card">
  <div class="left">
    <h1>To Mithu ‚Äî 19 years young <span class="spark">‚ú®</span></h1>
    <p class="lead">Wishing you a day full of laughter, crazy confetti, and tiny moments that become big memories. Press <strong>Play</strong> and enjoy the show!</p>

    <div class="cake-wrap">
      <div class="cake" id="cake">
        <div class="frosting"></div>
        <div class="candles" id="candles">
          <div class="candle"><div class="flame"></div></div>
          <div class="candle"><div class="flame"></div></div>
          <div class="candle"><div class="flame"></div></div>
          <div class="candle"><div class="flame"></div></div>
          <div class="candle"><div class="flame"></div></div>
        </div>
      </div>

      <div style="flex:1;padding-left:6px">
        <div style="font-weight:700">Make a wish, Mithu!</div>
        <div style="margin-top:8px;color:#555">Click the big <strong>PLAY</strong> button to start music, confetti, balloons & fireworks.</div>
      </div>
    </div>

  </div>

  <div class="right">
    <div class="controls">
      <button class="btn" id="playBtn">‚ñ∂Ô∏è Play</button>
      <button class="btn secondary" id="pauseBtn">‚è∏ Pause</button>
    </div>

    <div class="message" id="messageBox">
      <textarea id="wishText">Happy 19th Birthday, Mithu! Love you lots ‚Äî may your year be full of adventures, joy, and bright surprises. üíñ</textarea>
    </div>

    <div style="display:flex;gap:8px;margin-top:8px">
      <button class="btn secondary" id="shareBtn">üíå Copy Wish</button>
      <button class="btn secondary" id="downloadBtn">‚¨áÔ∏è Download Card</button>
    </div>

  </div>
</div>

<canvas id="fxCanvas" style="position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none"></canvas>
<canvas id="confettiCanvas" style="position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none"></canvas>

<div class="footer">Made with ‚ú® for Mithu ‚Äî age 19</div>

  </div>  <script>
    /* Utility: resize canvases to window pixel ratio */
    function fitCanvas(canvas){const dpr=window.devicePixelRatio||1;canvas.width=window.innerWidth*dpr;canvas.height=window.innerHeight*dpr;canvas.style.width=window.innerWidth+'px';canvas.style.height=window.innerHeight+'px';const ctx=canvas.getContext('2d');ctx.setTransform(dpr,0,0,dpr,0,0);return ctx}

    const fxCanvas=document.getElementById('fxCanvas');
    const confettiCanvas=document.getElementById('confettiCanvas');
    let fxCtx=fitCanvas(fxCanvas), confCtx=fitCanvas(confettiCanvas);
    window.addEventListener('resize',()=>{fxCtx=fitCanvas(fxCanvas);confCtx=fitCanvas(confettiCanvas)})

    /* Simple confetti system */
    const confettiPieces=[];
    function spawnConfetti(count=80){for(let i=0;i<count;i++){confettiPieces.push({x:Math.random()*innerWidth,y:-20,vy:2+Math.random()*4,ax:Math.random()*0.04-0.02,size:6+Math.random()*10,rot:Math.random()*360,vr:Math.random()*6-3,color: ['#ff4da6','#ffd86b','#8ad9ff','#c6a4ff'][Math.floor(Math.random()*4)]})}}
    function updateConfetti(){confCtx.clearRect(0,0,innerWidth,innerHeight);for(let i=confettiPieces.length-1;i>=0;i--){const p=confettiPieces[i];p.vy+=0.06;p.x+=p.ax*5;p.y+=p.vy;p.rot+=p.vr;confCtx.save();confCtx.translate(p.x,p.y);confCtx.rotate(p.rot*Math.PI/180);confCtx.fillStyle=p.color;confCtx.fillRect(-p.size/2,-p.size/2,p.size,p.size);confCtx.restore();if(p.y>innerHeight+40)confettiPieces.splice(i,1)}}

    /* Fireworks */
    const fireworks=[];
    function launchFirework(x,y){const particles=[];const count=28+Math.floor(Math.random()*18);for(let i=0;i<count;i++){const ang=Math.random()*Math.PI*2;const speed=1.8+Math.random()*4;particles.push({x,y,vx:Math.cos(ang)*speed,vy:Math.sin(ang)*speed,life:60+Math.random()*40,age:0,color:`hsl(${Math.floor(Math.random()*360)},80%,60%)`})}fireworks.push({particles})}
    function updateFireworks(){fxCtx.clearRect(0,0,innerWidth,innerHeight);for(let i=fireworks.length-1;i>=0;i--){const fw=fireworks[i];for(let j=fw.particles.length-1;j>=0;j--){const p=fw.particles[j];p.vy+=0.03;p.x+=p.vx;p.y+=p.vy;p.age++;const alpha=1-p.age/p.life;fxCtx.beginPath();fxCtx.globalAlpha=alpha;fxCtx.fillStyle=p.color;fxCtx.arc(p.x,p.y,2.6,0,Math.PI*2);fxCtx.fill();if(p.age>p.life)fw.particles.splice(j,1)}if(fw.particles.length===0)fireworks.splice(i,1)}fxCtx.globalAlpha=1}

    /* Balloons (DOM) */
    const colors=['#ff7ab6','#ffdf7a','#7ad6ff','#caa4ff'];
    function spawnBalloon(){const b=document.createElement('div');b.className='balloon';const c=colors[Math.floor(Math.random()*colors.length)];b.style.background=c;const left=Math.random()*80;const scale=0.9+Math.random()*0.8;b.style.left=left+'%';b.style.bottom='-140px';b.style.transform=`scale(${scale})`;
      const s=document.createElement('div');s.className='string';b.appendChild(s);document.body.appendChild(b);
      // animate upwards
      const dur=8000+Math.random()*7000;const start=performance.now();function frame(t){const p=(t-start)/dur;if(p>=1){b.remove();return}b.style.bottom=(-140 + p*(innerHeight+200))+'px';requestAnimationFrame(frame)}requestAnimationFrame(frame)}

    /* Candle flicker */
    function flickerCandles(){const flames=document.querySelectorAll('.flame');flames.forEach(f=>{const s=0.8+Math.random()*0.4;f.style.transform=`translateX(-50%) scale(${s})`;f.style.opacity=0.85+Math.random()*0.25});setTimeout(flickerCandles,120)}
    flickerCandles();

    /* Audio: simple melody via Web Audio API */
    const AudioCtx = window.AudioContext || window.webkitAudioContext;
    let audioCtx=null;let masterGain=null;let musicOsc=null;let isPlaying=false;let melodyInterval=null;

    function startMusic(){if(!AudioCtx) return;audioCtx=new AudioCtx();masterGain=audioCtx.createGain();masterGain.gain.value=0.18;masterGain.connect(audioCtx.destination);
      const notes=[523.25,659.25,783.99,1046.5,783.99,659.25];let idx=0;musicOsc=audioCtx.createOscillator();musicOsc.type='sine';musicOsc.frequency.value=notes[0];musicOsc.connect(masterGain);musicOsc.start();melodyInterval=setInterval(()=>{musicOsc.frequency.setValueAtTime(notes[idx%notes.length],audioCtx.currentTime);idx++;},300);}
    function stopMusic(){if(melodyInterval)clearInterval(melodyInterval);if(musicOsc){musicOsc.stop();try{musicOsc.disconnect()}catch(e){}musicOsc=null}if(masterGain){try{masterGain.disconnect()}catch(e){}masterGain=null}if(audioCtx){try{audioCtx.close()}catch(e){}audioCtx=null}}

    /* Play / Pause controls */
    const playBtn=document.getElementById('playBtn');const pauseBtn=document.getElementById('pauseBtn');
    playBtn.addEventListener('click',()=>{if(isPlaying) return;isPlaying=true;startMusic();spawnConfetti(130);for(let i=0;i<8;i++){setTimeout(()=>spawnBalloon(),i*600)}let fireCount=0;const fireSeq=setInterval(()=>{launchFirework(Math.random()*innerWidth,100+Math.random()*200);fireCount++;if(fireCount>8){clearInterval(fireSeq)}} ,450)});
    pauseBtn.addEventListener('click',()=>{isPlaying=false;stopMusic();confettiPieces.length=0;fireworks.length=0;const balloons=document.querySelectorAll('.balloon');balloons.forEach(b=>b.remove());confCtx.clearRect(0,0,innerWidth,innerHeight);fxCtx.clearRect(0,0,innerWidth,innerHeight)})

    /* Animation loop */
    function loop(){updateConfetti();updateFireworks();requestAnimationFrame(loop)}loop();

    /* Make copying & downloading work */
    document.getElementById('shareBtn').addEventListener('click',()=>{const text=document.getElementById('wishText').value;navigator.clipboard?.writeText(text).then(()=>{alert('Wish copied to clipboard!')}).catch(()=>{prompt('Copy this message:',text)})})

    document.getElementById('downloadBtn').addEventListener('click',()=>{const canvas=document.createElement('canvas');canvas.width=1200;canvas.height=630;const ctx=canvas.getContext('2d');
      // background
      const grad=ctx.createLinearGradient(0,0,canvas.width,canvas.height);grad.addColorStop(0,'#ffedf5');grad.addColorStop(1,'#f0f7ff');ctx.fillStyle=grad;ctx.fillRect(0,0,canvas.width,canvas.height);
      // text
      ctx.fillStyle='#2b2b2b';ctx.font='48px serif';ctx.fillText('Happy 19th Birthday, Mithu!',60,140);
      ctx.font='28px serif';const message=document.getElementById('wishText').value;wrapText(ctx,message,60,200,1080,34);
      const link=document.createElement('a');link.download='Mithu-19-birthday-card.png';link.href=canvas.toDataURL('image/png');link.click();
    });

    function wrapText(ctx,text,x,y,maxWidth,lineHeight){const words=text.split(' ');let line='';for(let n=0;n<words.length;n++){const testLine=line+words[n]+' ';const metrics=ctx.measureText(testLine);if(metrics.width>maxWidth && n>0){ctx.fillText(line,x,y);line=words[n]+' ';y+=lineHeight;}else{line=testLine;}}ctx.fillText(line,x,y);} 

    /* Small helpful hint: auto-play blocked on some browsers ‚Äî user must interact. */

    // small celebratory auto-spark on load (non-intrusive)
    setTimeout(()=>{spawnConfetti(22);for(let i=0;i<2;i++)setTimeout(()=>spawnBalloon(),i*350)},900);
  </script></body>
</html>
